jQuery(document).ready(function(e){var s={message:null,overlayCSS:{background:"#fff",opacity:.6,cursor:"default"}};e("select.js-address-select").change(function(){var a=e(this),o=a.val();if(o>0){var n=a.closest(".order_data_column");n.block(s);var t={action:"woocommerce_json_get_address",address_id:o,security:a.data("nonce")},c=a.data("address_type");e.post(ajaxurl,t,function(s){if(e('[name^="_'+c+'_"]').each(function(){-1==wc_companies_order_fields.ignore_fields.indexOf(e(this).attr("name"))&&e(this).val("")}),s.address)for(var a in s.address)e('[name="_'+c+"_"+a+'"]').val(s.address[a]).trigger("change")},"json").always(function(e){console.log(e),n.unblock()})}}),e(".wc-company-search, .wc-customer-search").change(function(){var a=e(".wc-company-search"),o=e(".wc-customer-search");e(".order_data_column").block(s);var n={action:"woocommerce_json_get_user_company_addresses",company_id:a.val(),user_id:o.val()};e.post(ajaxurl,n,function(s){e("select.js-address-select").each(function(){if(optionsAsString="",s.addresses){var a=1,o="";for(var n in s.addresses)1==a&&(o+=s.addresses[n].title),optionsAsString+="<option value='"+s.addresses[n].id+"'>"+s.addresses[n].title+"</option>",a++}e(this).find("option").remove().end().append(e(optionsAsString)).closest(".form-field").find("span.select2-chosen").text(o)})},"json").always(function(s){console.log(s),e(".order_data_column").unblock()})}),e(".js-create-entity-form").submit(function(a){a.preventDefault();var o=e(this),n=o.find(".response"),t=e("input"+o.data("search-field"));n.html(""),o.block(s),e.post(ajaxurl,e(this).serializeObject(),function(e){n.append(e.message),"success"==e.response&&(tb_remove(),o.trigger("reset"),t.val(e.object_id).trigger("change").siblings(".select2-container").find(".select2-choice").removeClass("select2-default").find(".select2-chosen").text(e.object_title))},"json").always(function(e){console.log(e),o.unblock()})})});