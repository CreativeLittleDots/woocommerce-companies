jQuery(document).ready(function(e){var s={message:null,overlayCSS:{background:"#fff",opacity:.6,cursor:"default"}};e("select.js-address-select").change(function(){var a=e(this),n=a.val();if(n>0){var o=a.closest(".order_data_column");o.block(s);var t={action:"woocommerce_json_get_address",address_id:n,security:a.data("nonce")},c=a.data("address_type");e.post(ajaxurl,t,function(s){if(e('[name^="_'+c+'_"]').each(function(){-1==wc_companies_order_fields.ignore_fields.indexOf(e(this).attr("name"))&&e(this).val("")}),s.address)for(var a in s.address)e('[name="_'+c+"_"+a+'"]').val(s.address[a]).trigger("change")},"json").always(function(e){console.log(e),o.unblock()})}}),e("input.wc-company-search, input.wc-customer-search").change(function(){var a=e("input.wc-company-search"),n=e("input.wc-customer-search");e(".order_data_column").block(s);var o={action:"woocommerce_json_get_user_company_addresses",company_id:a.val(),user_id:n.val()};e.post(ajaxurl,o,function(s){e("select.js-address-select").each(function(){if(optionsAsString="",s.addresses){var a=1,n="";for(var o in s.addresses)1==a&&(n+=s.addresses[o].title),optionsAsString+="<option value='"+s.addresses[o].id+"'>"+s.addresses[o].title+"</option>",a++}e(this).find("option").remove().end().append(e(optionsAsString)).closest(".form-field").find("span.select2-chosen").text(n)})},"json").always(function(s){console.log(s),e(".order_data_column").unblock()})}),e(".js-create-entity-form").submit(function(a){a.preventDefault();var n=e(this),o=n.find(".response"),t=e("input"+n.data("search-field"));o.html(""),n.block(s),e.post(ajaxurl,e(this).serializeObject(),function(e){o.append(e.message),"success"==e.response&&(tb_remove(),n.trigger("reset"),t.val(e.object_id).trigger("change").siblings(".select2-container").find(".select2-choice").removeClass("select2-default").find(".select2-chosen").text(e.object_title))},"json").always(function(e){console.log(e),n.unblock()})})});