jQuery(document).ready(function(a){var b={message:null,overlayCSS:{background:'#fff',opacity:0.6,cursor:'default'}};a('select.js-address-select').change(function(){var c=a(this),d=c.val();if(0<d){var f=c.closest('.order_data_column');f.block(b);var g={action:'woocommerce_json_get_address',address_id:d,security:c.data('nonce')},h=c.data('address_type');a.post(ajaxurl,g,function(j){if(a('[name^="_'+h+'_"]').each(function(){-1==wc_companies_order_fields.ignore_fields.indexOf(a(this).attr('name'))&&a(this).val('')}),j.address)for(var k in j.address){var l='_'+h+'_'+k;if(-1==wc_companies_order_fields.ignore_fields.indexOf(l)){var m=a('[name="'+l+'"]'),n=j.address[k];m.val(n),m.hasClass('js_field-state')&&m.closest('.edit_address').find('.js_field-country').data('woocommerce.stickState-'+j.address.country,n),m.trigger('change')}}},'json').always(function(){f.unblock()})}}),a('.wc-company-search, .wc-customer-search').change(function(){var c=a('.wc-company-search'),d=a('.wc-customer-search');a('.order_data_column').block(b);var f={action:'woocommerce_json_get_user_company_addresses',company_id:c.val(),user_id:d.val()};a.post(ajaxurl,f,function(g){a('select.js-address-select').each(function(){if(optionsAsString='',g.addresses){var h=1,j='';for(var k in g.addresses)1==h&&(j+=g.addresses[k].title),optionsAsString+='<option value=\''+g.addresses[k].id+'\'>'+g.addresses[k].title+'</option>',h++}a(this).find('option').remove().end().append(a(optionsAsString)).closest('.form-field').find('span.select2-chosen').text(j)})},'json').always(function(g){console.log(g),a('.order_data_column').unblock()})}),a('.js-create-entity-form').submit(function(c){c.preventDefault();var d=a(this),f=d.find('.response'),g=a('input'+d.data('search-field'));f.html(''),d.block(b),a.post(ajaxurl,a(this).serializeObject(),function(h){f.append(h.message),'success'==h.response&&(tb_remove(),d.trigger('reset'),g.val(h.object_id).trigger('change').siblings('.select2-container').find('.select2-choice').removeClass('select2-default').find('.select2-chosen').text(h.object_title))},'json').always(function(h){console.log(h),d.unblock()})})});