jQuery(document).ready(function(a){var b={message:null,overlayCSS:{background:"#fff",opacity:.6,cursor:"default"}};a("select.js-address-select").change(function(){var c=a(this),d=c.val();if(d>0){var e=c.closest(".order_data_column");e.block(b);var f={action:"woocommerce_json_get_address",address_id:d,security:c.data("nonce")},g=c.data("address_type");a.post(ajaxurl,f,function(b){if(console.log(b),b.address)for(var c in b.address)a('[name="_'+g+"_"+c+'"]').val(b.address[c]).trigger("change")},"json").always(function(a){console.log(a),e.unblock()})}}),a("input.wc-company-search, input.wc-customer-search").change(function(){var c=a("input.wc-company-search"),d=a("input.wc-customer-search");a(".order_data_column").block(b);var e={action:"woocommerce_json_get_user_company_addresses",company_id:c.val(),user_id:d.val()};a.post(ajaxurl,e,function(b){a("select.js-address-select").each(function(){if(optionsAsString="",b.addresses){var c=1,d="";for(var e in b.addresses)1==c&&(d+=b.addresses[e].title),optionsAsString+="<option value='"+b.addresses[e].id+"'>"+b.addresses[e].title+"</option>",c++}a(this).find("option").remove().end().append(a(optionsAsString)).closest(".form-field").find("span.select2-chosen").text(d)})},"json").always(function(b){console.log(b),a(".order_data_column").unblock()})}),a(".js-create-entity-form").submit(function(c){c.preventDefault();var d=a(this),e=d.find(".response"),f=a("input"+d.data("search-field"));e.html(""),d.block(b),a.post(ajaxurl,a(this).serializeObject(),function(a){e.append(a.message),"success"==a.response&&(tb_remove(),d.trigger("reset"),f.val(a.object_id).trigger("change").siblings(".select2-container").find(".select2-choice").removeClass("select2-default").find(".select2-chosen").text(a.object_title))},"json").always(function(a){console.log(a),d.unblock()})})});