function onCountryChange(e,s,t){let o=jQuery(t).find(".js_field-country");jQuery(t).find("input.js_field-state").val(o.data("woocommerce.stickState-"+o.val()))}jQuery(document).ready(function(e){var s={message:null,overlayCSS:{background:"#fff",opacity:.6,cursor:"default"}};e("select.js-address-select").change(function(){var t=e(this),o=t.val();if(o>0){var a=t.closest(".order_data_column");a.block(s);var n={action:"woocommerce_json_get_address",address_id:o,security:t.data("nonce")},r=t.data("address_type");e.post(ajaxurl,n,function(s){if(e('[name^="_'+r+'_"]').each(function(){-1==wc_companies_order_fields.ignore_fields.indexOf(e(this).attr("name"))&&e(this).val("")}),s.address)for(var t in s.address){var o="_"+r+"_"+t;if(-1==wc_companies_order_fields.ignore_fields.indexOf(o)){var a=s.address[t];if("state"==t)setTimeout(function(){var t="_"+r+"_state",o=s.address.state,a=e('[name="'+t+'"]');a.closest(".edit_address").find(".js_field-country").data("woocommerce.stickState-"+s.address.country,o),a.val(o),console.log(a,o),a.trigger("change")},0),n.closest(".edit_address").find(".js_field-country").data("woocommerce.stickState-"+s.address.country,a);else{var n=e('[name="'+o+'"]');n.val(a),n.trigger("change")}}}},"json").always(function(e){a.unblock()})}}),e(".wc-company-search, .wc-customer-search").change(function(){var t=e(".wc-company-search"),o=e(".wc-customer-search");e(".order_data_column").block(s);var a={action:"woocommerce_json_get_user_company_addresses",company_id:t.val(),user_id:o.val()};e.post(ajaxurl,a,function(s){e("select.js-address-select").each(function(){if(optionsAsString="",s.addresses){var t=1,o="";for(var a in s.addresses)1==t&&(o+=s.addresses[a].title),optionsAsString+="<option value='"+s.addresses[a].id+"'>"+s.addresses[a].title+"</option>",t++}e(this).find("option").remove().end().append(e(optionsAsString)).closest(".form-field").find("span.select2-chosen").text(o)})},"json").always(function(s){console.log(s),e(".order_data_column").unblock()})}),e(".js-create-entity-form").submit(function(t){t.preventDefault();var o=e(this),a=o.find(".response"),n=e(o.data("search-field"));a.html(""),o.block(s),e.post(ajaxurl,e(this).serializeObject(),function(s){if(a.append(s.message),"success"==s.response){if(tb_remove(),o.trigger("reset"),n.is("select")){var t=e("<option>");t.attr("value",s.object_id).text(s.object_title),n.prepend(t)}n.val(s.object_id).trigger("change").siblings(".select2-container").find(".select2-selection__placeholder").text(s.object_title)}},"json").always(function(e){console.log(e),o.unblock()})})}),jQuery(document.body).on("country-change.woocommerce",onCountryChange);