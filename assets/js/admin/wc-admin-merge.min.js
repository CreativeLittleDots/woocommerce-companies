jQuery(document).ready(function(e){e("<option>").val("merge").text("Merge").appendTo("select[name='action'], select[name='action2']"),e("#doaction").click(function(a){if("merge"==e(this).prev().val()){a.preventDefault();var t=[];if(e('[name="post[]"]:checked').each(function(){t.push(e(this).val())}),e(".wc-companies-merge-fields").find("select:not(.country_to_state), input").val("").find('option[val!="0"]').remove(),e(".wc-companies-merge-fields").find(".wc-advanced-search").select2("data",[]),t){e(".wc-companies-merge-fields").addClass("wc-companies-merge-fields--visible");var o={action:"woocommerce_json_get_merge_field_values",post_type:typenow,ids:t};e.post(ajaxurl,o,function(a){console.log(a);for(var t in a.fields){var o=a.fields[t],s=e(".wc-companies-merge-fields").find('[name="wc-companies-merge['+t+']"]');if(s.is("select")&&!s.hasClass(".country_to_state"))for(var i in o.options){var n=o.options[i],c="object"==typeof n?n.id:i,l="object"==typeof n?n.text:n;e("<option>").val(c).text(l).appendTo(s)}s.val(o.value).trigger("change"),s.hasClass("wc-advanced-search")&&s.select2("data",o.options)}},"json").always(function(e){console.log(e)})}}}),e(".wc-companies-merge-fields").click(function(a){e(a.target).hasClass("wc-companies-merge-fields--visible")&&(e(this).removeClass("wc-companies-merge-fields--visible"),e(this).find("select:not(.country_to_state), input").val("").find('option[val!="0"]').remove(),e(this).find(".wc-advanced-search").select2("data",[]),e(".select2-drop").hide())})});