jQuery(document).ready(function(a){a("<option>").val("merge").text("Merge").appendTo("select[name='action'], select[name='action2']"),a("#doaction").click(function(b){if("merge"==a(this).prev().val()){b.preventDefault();var c=[];if(a('[name="post[]"]:checked').each(function(){c.push(a(this).val())}),a(".wc-companies-merge-fields").find("select:not(.country_to_state), input").val("").find('option[val!="0"]').remove(),a(".wc-companies-merge-fields").find(".wc-advanced-search").select2("data",[]),c){a(".wc-companies-merge-fields").addClass("wc-companies-merge-fields--visible");var d={action:"woocommerce_json_get_merge_field_values",post_type:typenow,ids:c};a.post(ajaxurl,d,function(b){for(var c in b.fields){var d=b.fields[c],e=a(".wc-companies-merge-fields").find('[name="wc-companies-merge['+c+']"]');if(e.hasClass("wc-advanced-search")&&e.select2("data",d.options),e.is("select")&&!e.hasClass(".country_to_state"))for(var f in d.options){var g=d.options[f];a("<option>").val(g.id).text(g.text).appendTo(e)}e.val(d.value).trigger("change")}},"json").always(function(a){console.log(a)})}}}),a(".wc-companies-merge-fields").click(function(b){a(b.target).hasClass("wc-companies-merge-fields--visible")&&(a(this).removeClass("wc-companies-merge-fields--visible"),a(this).find("select:not(.country_to_state), input").val("").find('option[val!="0"]').remove(),a(this).find(".wc-advanced-search").select2("data",[]),a(".select2-drop").hide())})});