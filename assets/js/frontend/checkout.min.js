jQuery(document).ready(function(a){a.blockUI.defaults.overlayCSS.cursor="default",Object.keys||(Object.keys=function(a){var c,b=[];for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}),a("select.company_select, select.address_select, select.country_select").length&&a().select2&&a("select.company_select, select.address_select, select.country_select").select2(),a("#billing_address_id, #shipping_address_id").bind("wc_companies_update_addresses",function(){var b=a(this),c=b.data("address_type"),d=a(".checkout_"+c+"_fields");d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_addresses_nonce,action:"woocommerce_json_get_addresses",address_type:c,checkout_type:a('input[name="checkout_type"]:checked').val(),company_id:a("#company_id").val()},function(d){if("success"===d.result){if(b.find("option").each(function(){a(this).val()>0&&a(this).remove()}),Object.keys(d.addresses).length){b.closest("div").show(300);for(var e in d.addresses){var e=d.addresses[e];b.append('<option value="'+e.id+'">'+e.title+"</option>")}b.trigger("wc_companies_change_address",[d.addresses[0],c])}else b.closest("div").hide(300),a(".checkout_"+c+"_fields").find("input, select, textarea").val("");b.trigger("wc_companies_updated_addresses",[d.addresses,c])}},"json").always(function(){d.unblock(),b.is("#billing_address_id")&&a("#shipping_address_id").trigger("wc_companies_update_addresses")})}).change(function(){var b=a(this),c=b.data("address_type");container=a(".checkout_"+c+"_fields"),b.val()>0?(container.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_address_nonce,action:"woocommerce_json_get_address",address_id:b.val()},function(a){a.address&&b.trigger("wc_companies_change_address",[a.address,c])},"json").always(function(a,b){container.unblock()})):(container.find("input, select, textarea").val(""),container.find(".country_select, .state_select").trigger("change"))}).bind("wc_companies_change_address",function(b,c,d){var e=a(this),f=a(".checkout_"+d+"_fields");e.val(c.id),f.find("input, select, textarea").each(function(){if(a(this).attr("name")){var b=a(this).attr("name").replace(d+"_","");c[b]&&(a(this).val(c[b]),(a(this).hasClass("country_select")||a(this).hasClass("state_select"))&&a(this).trigger("change"))}}),e.trigger("wc_companies_changed_address",[c,d])}),a("#company_id").change(function(){var b=a(this),c=a(".checkout_company_fields");b.val()>0?(c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_company_nonce,action:"woocommerce_json_get_company",company_id:b.val()},function(b){b.company&&c.find("input, select, textarea").each(function(){if(a(this).attr("name")){var c=a(this).attr("name").replace("company_","");b.company[c]&&a(this).val(b.company[c])}})},"json").always(function(){c.unblock()})):c.find("input, select, textarea").val(""),a("#billing_address_id").trigger("wc_companies_update_addresses")}),a('input[name="checkout_type"]').change(function(){"company"===a('input[name="checkout_type"]:checked').val()?(a(".checkout_company_fields").show(300),a("select.company_select, select.address_select, select.country_select").length&&a().select2&&a("select.company_select, select.address_select, select.country_select").select2()):(a("#company_id").val(-1),a(".checkout_company_fields").hide(300)),a("#company_id").trigger("change")}).trigger("change")});