jQuery(document).ready(function(a){a.blockUI.defaults.overlayCSS.cursor="default",Object.keys||(Object.keys=function(a){var c,b=[];for(c in a)a.hasOwnProperty(c)&&b.push(c);return b}),a("select.company_select, select.address_select, select.country_select").length&&a().select2&&a("select.company_select, select.address_select, select.country_select").select2(),a("#billing_address_id, #shipping_address_id").bind("wc_companies_update_addresses",function(){var b=a(this),c=b.data("address_type"),d=a(".woocommerce-"+c+"-fields");d.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_addresses_nonce,action:"woocommerce_json_get_addresses",address_type:c,checkout_type:a('input[name="checkout_type"]:checked').val(),company_id:a("#company_id").val()},function(e){if("success"===e.result){if(b.find("option").each(function(){a(this).val()>0&&a(this).remove()}),Object.keys(e.addresses).length)for(var f in e.addresses){var f=e.addresses[f];b.append('<option value="'+f.id+'">'+f.title+"</option>")}else d.find("input, select, textarea").each(function(){a(this).attr("name")&&a(this).attr("name").indexOf(c)>-1&&a(this).val("")});b.trigger("wc_companies_updated_addresses",[e.addresses,c])}},"json").always(function(){d.unblock(),b.is("#billing_address_id")&&a("#shipping_address_id").trigger("wc_companies_update_addresses")})}).change(function(){var b=a(this),c=b.data("address_type");container=a(".woocommerce-"+c+"-fields"),b.val()>0?(container.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_address_nonce,action:"woocommerce_json_get_address",address_id:b.val()},function(a){a.address&&b.trigger("wc_companies_change_address",[a.address,c])},"json").always(function(a,b){container.unblock()})):(container.find("input, select, textarea").each(function(){a(this).attr("name")&&a(this).attr("name").indexOf(c)>-1&&a(this).val("")}),container.find(".country_select, .state_select").trigger("change"))}).bind("wc_companies_change_address",function(b,c,d){var e=a(this),f=a(".woocommerce-"+d+"-fields");e.val(c.id),f.find("input, select, textarea").each(function(){if(a(this).attr("name")&&a(this).attr("name").indexOf(d)>-1){var b=a(this).attr("name").replace(d+"_","");c[b]&&(a(this).val(c[b]),(a(this).hasClass("country_select")||a(this).hasClass("state_select"))&&a(this).trigger("change"))}}),e.trigger("wc_companies_changed_address",[c,d])}),a("#company_id").change(function(){var b=a(this),c=a(".woocommerce-billing-fields");b.val()>0?(c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_company_nonce,action:"woocommerce_json_get_company",company_id:b.val()},function(b){b.company&&c.find("input, select, textarea").each(function(){if(a(this).attr("name")&&a(this).attr("name").indexOf("company")>-1){var c=a(this).attr("name").replace("company_","");b.company[c]&&a(this).val(b.company[c])}}),a("#billing_address_id").trigger("wc_companies_update_addresses")},"json").always(function(){c.unblock()})):(a(".woocommerce-billing-fields, .woocommerce-shipping-fields").find("input, select, textarea").val(""),a("#billing_address_id, #shipping_address_id").html('<option value="0">Add new Address</option>'),a().select2&&a("#billing_address_id, #shipping_address_id, select.address_select, select.country_select").select2())}),a('input[name="checkout_type"]').change(function(){"company"===a('input[name="checkout_type"]:checked').val()?(a(".checkout_company_fields").show(300),a("select.company_select, select.address_select, select.country_select").length&&a().select2&&a("select.company_select, select.address_select, select.country_select").select2()):(a("#company_id").val(-1),a(".checkout_company_fields").hide(300)),a("#company_id").trigger("change")})});