jQuery(document).ready(function($){Object.keys||(Object.keys=function(e){var s=[],d;for(d in e)e.hasOwnProperty(d)&&s.push(d);return s}),$("#billing_address_id").change(function(){-1==$(this).val()?$(".checkout_billing_fields").slideDown(300):$(".checkout_billing_fields").slideUp(300)}),$("#shipping_address_id").change(function(){-1==$(this).val()?$(".checkout_shipping_fields").slideDown(300):$(".checkout_shipping_fields").slideUp(300)}),$("select.company_select, select.address_select, select.country_select").length&&$().select2&&$("select.company_select, select.address_select, select.country_select").select2(),$('input[name="checkout_type"]').change(function(){var e=$(this).val();"company"==e?($(".checkout_company_fields").slideDown(300),$("select.address_select").length&&$().select2&&$("select.address_select").select2()):$(".checkout_company_fields").slideUp(300,function(){$("#company_id").val(0).change()}),$("#billing_address_id, #shipping_address_id").trigger("updateAddresses")}),$("#company_id").change(function(){-1==$(this).val()?$(".checkout_add_company_fields").slideDown(300):$(this).find("option").length<3?$(".checkout_add_company_fields").slideDown(300):$(".checkout_add_company_fields").slideUp(300),$("#billing_address_id, #shipping_address_id").trigger("updateAddresses")}),$("#billing_address_id, #shipping_address_id").bind("updateAddresses",function(){var e=$(this);if($('input[name="checkout_type"]:checked').length){var s={action:"woocommerce_companies_get_addresses",address_type:$(this).data("address_type"),checkout_type:$('input[name="checkout_type"]:checked').val(),company_id:$("#company_id").val()};$.post(woocommerce_params.ajax_url,s,function(s){if("success"==s.result)if(e.find("option").each(function(){$(this).val()>0&&$(this).remove()}),Object.keys(s.addresses).length){e.closest("div").slideDown(300);for(var d in s.addresses)address=s.addresses[d],e.append('<option value="'+d+'">'+address+"</option>");e.val(Object.keys(s.addresses)[0]).change()}else e.closest("div").slideUp(300),e.val(-1).change()},"JSON")}})});