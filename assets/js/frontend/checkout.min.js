jQuery(document).ready(function($){$.blockUI.defaults.overlayCSS.cursor="default",Object.keys||(Object.keys=function(e){var c=[],s;for(s in e)e.hasOwnProperty(s)&&c.push(s);return c}),$("select.company_select, select.address_select, select.country_select").length&&$().select2&&$("select.company_select, select.address_select, select.country_select").select2(),$("#billing_address_id, #shipping_address_id").bind("wc_companies_update_addresses",function(){var e=$(this),c=e.data("address_type"),s=$(".checkout_"+c+"_fields");s.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),$.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_addresses_nonce,action:"woocommerce_json_get_addresses",address_type:c,checkout_type:$('input[name="checkout_type"]:checked').val(),company_id:$("#company_id").val()},function(s){if("success"===s.result){if(e.find("option").each(function(){$(this).val()>0&&$(this).remove()}),Object.keys(s.addresses).length){e.closest("div").show(300);for(var a in s.addresses){var a=s.addresses[a];e.append('<option value="'+a.id+'">'+a.title+"</option>")}e.trigger("wc_companies_change_address",[s.addresses[0],c])}else e.closest("div").hide(300),$(".checkout_"+c+"_fields").find("input, select, textarea").val("");e.trigger("wc_companies_updated_addresses",[s.addresses,c])}},"json").always(function(){s.unblock(),e.is("#billing_address_id")&&$("#shipping_address_id").trigger("wc_companies_update_addresses")})}).change(function(){var e=$(this),c=e.data("address_type");container=$(".checkout_"+c+"_fields"),e.val()>0?(container.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),$.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_address_nonce,action:"woocommerce_json_get_address",address_id:e.val()},function(s){s.address&&e.trigger("wc_companies_changed_address",[s.address,c])},"json").always(function(){container.unblock()})):container.find("input, select, textarea").val("")}).bind("wc_companies_change_address",function(e,c,s){var a=$(this),t=$(".checkout_"+s+"_fields");a.val(c.id),t.find("input, select, textarea").each(function(){if($(this).attr("name")){var e=$(this).attr("name").replace(s+"_","");c[e]&&$(this).val(c[e])}}),a.trigger("wc_companies_changed_address",[c,s])}),$("#company_id").change(function(){var e=$(this),c=$(".checkout_company_fields");e.val()>0?(c.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),$.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_company_nonce,action:"woocommerce_json_get_company",company_id:e.val()},function(e){e.company&&c.find("input, select, textarea").each(function(){if($(this).attr("name")){var c=$(this).attr("name").replace("company_","");e.company[c]&&$(this).val(e.company[c])}})},"json").always(function(){c.unblock()})):c.find("input, select, textarea").val(""),$("#billing_address_id").trigger("wc_companies_update_addresses")}),$('input[name="checkout_type"]').change(function(){"company"===$('input[name="checkout_type"]:checked').val()?($(".checkout_company_fields").show(300),$("select.company_select, select.address_select, select.country_select").length&&$().select2&&$("select.company_select, select.address_select, select.country_select").select2()):($("#company_id").val(-1),$(".checkout_company_fields").hide(300)),$("#company_id").trigger("change")}).trigger("change")});