jQuery(document).ready(function(e){e.blockUI.defaults.overlayCSS.cursor="default",Object.keys||(Object.keys=function(e){var a,t=[];for(a in e)e.hasOwnProperty(a)&&t.push(a);return t}),e("#billing_address_id, #shipping_address_id").bind("wc_companies_update_addresses",function(){var a=e(this),t=a.data("address_type"),s=e(".woocommerce-"+t+"-fields");s.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_addresses_nonce,action:"woocommerce_json_get_addresses",address_type:t,checkout_type:e('input[name="checkout_type"]:checked').val(),company_id:e("#company_id").val()},function(n){if("success"===n.result){if(a.find("option").each(function(){e(this).val()>0&&e(this).remove()}),Object.keys(n.addresses).length)for(var c in n.addresses){c=n.addresses[c];a.append('<option value="'+c.id+'">'+c.title+"</option>")}else s.find("input, select, textarea").each(function(){e(this).attr("name")&&e(this).attr("name").indexOf(t)>-1&&e(this).val(e(this).attr("default")?e(this).attr("default"):"")});a.trigger("wc_companies_updated_addresses",[n.addresses,t])}},"json").always(function(){s.unblock(),a.is("#billing_address_id")&&e("#shipping_address_id").trigger("wc_companies_update_addresses")})}).change(function(){var a=e(this),t=a.data("address_type");container=e(".woocommerce-"+t+"-fields"),a.val()>0?(container.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_address_nonce,action:"woocommerce_json_get_address",address_id:a.val()},function(e){e.address&&a.trigger("wc_companies_change_address",[e.address,t])},"json").always(function(e,a){container.unblock()})):(container.find("input, select, textarea").each(function(){e(this).attr("name")&&e(this).attr("name").indexOf(t)>-1&&e(this).val(e(this).attr("default")?e(this).attr("default"):"")}),container.find(".country_select, .state_select").trigger("change"))}).bind("wc_companies_change_address",function(a,t,s){var n=e(this),c=e(".woocommerce-"+s+"-fields");n.val(t.id),c.find("input, select, textarea").each(function(){if(e(this).attr("name")&&e(this).attr("name").indexOf(s)>-1){var a=e(this).attr("name").replace(s+"_","");t[a]&&!e(this).attr("bypass")&&(e(this).val(t[a]),(e(this).hasClass("country_select")||e(this).hasClass("state_select"))&&e(this).trigger("change"))}}),n.trigger("wc_companies_changed_address",[t,s])}),e("#company_id").change(function(){var a=e(this),t=e(".woocommerce-billing-fields");a.val()>0?(t.block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),e.post(woocommerce_params.ajax_url,{security:wc_companies_checkout_params.get_company_nonce,action:"woocommerce_json_get_company",company_id:a.val()},function(a){a.company&&t.find("input, select, textarea").each(function(){if(e(this).attr("name")&&e(this).attr("name").indexOf("company")>-1){var t=e(this).attr("name").replace("company_","");a.company[t]&&e(this).val(a.company[t])}}),e("#billing_address_id").trigger("wc_companies_update_addresses")},"json").always(function(){t.unblock()})):(e(".woocommerce-billing-fields, .woocommerce-shipping-fields").find("input, select, textarea").each(function(){e(this).val(e(this).attr("default")?e(this).attr("default"):"")}),e("#billing_address_id, #shipping_address_id").html('<option value="0">Add new Address</option>'),e(document.body).trigger("country_to_state_changed"))}),e('input[name="checkout_type"]').change(function(){"company"===e('input[name="checkout_type"]:checked').val()?(e(".checkout_company_fields").show(300),e(document.body).trigger("country_to_state_changed")):(e("#company_id").val(-1),e(".checkout_company_fields").hide(300)),e("#company_id").trigger("change")})});
